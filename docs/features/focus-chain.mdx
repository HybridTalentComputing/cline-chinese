---
title: "焦点链"
sidebarTitle: "焦点链"
---

焦点链是 Cline 中的任务管理增强功能，提供自动待办事项列表管理，并在整个任务过程中进行实时进度跟踪。

这使 Cline 能够处理长期任务，无缝管理发送给 LLM 的上下文，并在多次上下文窗口重置中保持 Cline 的正轨。

<Tip>
  焦点链与 Cline 的[深度规划斜杠命令](/features/slash-commands/deep-planning)配合得特别好，为通过[规划过程](/features/plan-and-act)创建的实现任务提供无缝进度跟踪。
</Tip>

## 主要功能

### 自动待办事项列表生成

Cline 分析您的任务并自动创建全面的待办事项列表，包括：
- 清晰、可操作的 markdown 清单格式项目
- 将复杂任务逻辑分解为可管理的步骤
- 随着工作进展的实时更新

### 用户可编辑的待办事项列表

待办事项列表存储为可编辑的 markdown 文件：
- 通过您首选的 markdown 编辑器直接编辑
- 自动检测您所做的更改
- 无缝集成回 Cline 的工作流程
- 通过任务头部的编辑按钮快速访问

### 可视化进度跟踪

任务头部显示清晰的进度指示器：
- **步骤计数器**显示当前进度（例如，"3/8"）
- **已完成项目**用勾选标记清晰标记
- **当前工作**用指示器高亮显示
- **可展开视图**查看完整待办事项列表

### 智能提醒系统

可配置的提醒确保待办事项列表保持最新：
- 默认每 6 条消息提醒一次（可自定义 1-100）
- 从计划模式切换到执行模式时的自动提示
- 手动编辑待办事项列表时的用户触发更新

## 开始使用

<Steps>
  <Step title="打开 Cline 设置">
      - 点击 Cline 侧边栏中的齿轮图标
      - 导航到"功能"部分
  </Step>
  <Step title="启用焦点链">
      - 勾选"启用焦点链"
      - 可选调整"提醒 Cline 间隔"（默认：6 条消息）
  </Step>
  <Step title="开始新任务">
      - 开始新任务
      - Cline 将自动开始创建和管理待办事项列表
  </Step>
</Steps>

| 设置 | 默认值 | 范围 | 描述 |
|------|--------|------|------|
| 启用焦点链 | 禁用 | 开/关 | 启用增强的任务进度跟踪 |
| 提醒 Cline 间隔 | 6 | 1-100 条消息 | Cline 更新待办事项列表的频率 |

## 使用示例

#### 1. 任务启动

当您启用焦点链开始新任务时：

``` markdown 用户请求
用户："为我的 React 应用创建用户认证系统"

Cline：[分析请求并创建待办事项列表]
```

#### 2. 待办事项列表创建

Cline 为任务创建全面计划，存储在 markdown 文件中：

```markdown 待办事项列表创建
- [ ] 设置项目结构
- [ ] 安装认证依赖项
- [ ] 创建用户注册组件
- [ ] 实现登录功能
- [ ] 添加密码验证
- [ ] 设置用户数据库模式
- [ ] 编写认证测试
- [ ] 部署到暂存环境
```

#### 3. 进度跟踪

当 Cline 工作时，任务头部显示实时进度：

```markdown 待办事项列表头部
[3/8] 实现登录功能     ⌄
```

点击展开查看完整列表：

```markdown 完整待办事项列表
✓ 设置项目结构
✓ 安装认证依赖项
✓ 创建用户注册组件
○ 实现登录功能  ← 当前正在工作
○ 添加密码验证
○ 设置用户数据库模式
○ 编写认证测试
○ 部署到暂存环境
```

#### 4. 用户编辑

需要调整待办事项列表？没问题。

<Steps>
  <Step title="打开待办事项列表">
    点击展开的待办事项视图中的编辑按钮
  </Step>
  <Step title="编辑 markdown 文件">
    一个 markdown 文件在您的编辑器中打开：

    ```markdown 编辑待办事项列表
    # 任务 abc123 的焦点链待办事项列表

    <!-- 编辑此 markdown 文件以更新您的焦点链待办事项列表 -->
    <!-- 使用 - [ ] 表示未完成项目，- [x] 表示已完成项目 -->

    - [x] 设置项目结构
    - [x] 安装认证依赖项（例如，Firebase Auth）
    - [x] 创建用户注册组件
    - [ ] 实现登录功能
    - [ ] 添加密码重置功能
    - [ ] 设置受保护路由
    - [ ] 实现登出功能
    - [ ] 添加用户资料页面
    - [ ] 编写认证测试
    - [ ] 部署到暂存环境

    <!-- 保存此文件以更新任务的待办事项列表 -->
    ```
  </Step>
  <Step title="进行更改">
    根据需要添加、删除或重新排序项目
  </Step>
  <Step title="保存文件">
    Cline 自动检测并使用您的更新
  </Step>
</Steps>

## 文件结构

### 待办事项列表存储

待办事项列表存储为 markdown 文件在您的任务目录中：

``` markdown
<VSCode 全局存储>/
  tasks/
    <taskId>/
      focus_chain_taskid_<taskId>.md
      ... 其他任务文件
```

### Markdown 格式

待办事项文件使用标准 markdown 清单语法：

```markdown 示例待办事项语法
# 任务 abc123 的焦点链待办事项列表

<!-- 编辑此 markdown 文件以更新您的焦点链待办事项列表 -->
<!-- 使用格式：- [ ] 表示未完成项目，- [x] 表示已完成项目 -->

- [x] 设置项目结构
- [x] 安装认证依赖项
- [ ] 创建用户注册组件
- [ ] 实现登录功能
- [ ] 添加密码验证
- [ ] 设置用户数据库模式
- [ ] 编写认证测试
- [ ] 部署到暂存环境

<!-- 保存此文件，待办事项列表将在任务中更新 -->
```

## 与计划/执行模式集成

焦点链与 Cline 的[计划/执行模式](/features/plan-and-act)无缝配合：

- **计划模式**：可选的待办事项列表，用于呈现具体步骤
- **执行模式**：从计划模式切换时自动创建待办事项

<Tip>
  对于复杂项目，先在计划模式中讨论和完善您的方法，然后在准备开始工作时切换到执行模式。
</Tip>

## 最佳实践

<AccordionGroup>
  <Accordion title="有效待办事项列表">
    1. **从清晰请求开始**
      - 提供详细的初始任务描述
      - 包含具体要求 and 约束
      - 提及任何首选技术或方法

    2. **审查生成的列表**
      - 检查 Cline 的分解是否符合您的期望
      - 验证是否包含所有重要步骤
      - 确保顺序对您的项目有意义

    3. **需要时编辑**
      - 添加您识别的缺失步骤
      - 删除不必要的项目
      - 重新排序步骤以获得更好的工作流程
      - 为一般项目添加更具体的细节
  </Accordion>
  <Accordion title="复杂项目">
    1. **首先使用计划模式**
      - 在实现之前讨论方法
      - 通过对话完善要求
      - 准备开始工作时切换到执行模式

    2. **分解大任务**
      - 将复杂项目分解为更小、可管理的任务
      - 为不同组件创建单独的待办事项列表
      - 一次专注于一个主要领域

    3. **定期审查**
      - 在长任务期间定期检查进度
      - 随着要求的发展更新待办事项列表
      - 通过编辑与 Cline 沟通更改
  </Accordion>
  <Accordion title="协作">
    1. **分享待办事项文件**
      - 待办事项 markdown 文件可以与团队成员分享
      - 包含在版本控制中作为项目文档
      - 用作项目规划讨论的基础

    2. **一致格式**
      - 遵循标准 markdown 清单格式
      - 保持项目描述清晰和可操作
      - 在待办事项列表中使用一致的术语
  </Accordion>
</AccordionGroup>

## 故障排除

遇到问题？尝试这些快速修复：

<AccordionGroup>
  <Accordion title="待办事项列表不更新？">
    - 检查设置中是否启用了焦点链
    - 焦点链可能不适用于较小、能力较弱的模型
    - 确保任务目录中的文件权限正确
  </Accordion>
  <Accordion title="无法编辑待办事项文件？">
    - 验证您的编辑器支持 markdown
    - 检查 VSCode 对目录有写入权限
  </Accordion>
  <Accordion title="进度不显示？">
    - 确保待办事项项目使用正确语法（`- [ ]` 和 `- [x]`）
    - 验证 markdown 文件格式正确
  </Accordion>
</AccordionGroup>

仍然卡住？在 Cline 中使用 [/reportbug](/features/slash-commands/report-bug) 命令获得帮助。

## 技术细节（供好奇者参考）

<AccordionGroup>
  <Accordion title="文件监控">
    - 实时文件监控检测待办事项 markdown 文件的更改
    - 文件编辑和 UI 更新之间的自动同步
    - 优雅处理文件创建、修改和删除
  </Accordion>
  <Accordion title="进度计算">
    - 动态计算已完成 vs. 总待办事项项目
    - 支持 `- [x]` 和 `- [X]` 完成语法
    - Unicode 符号（✓, ○）用于增强视觉显示
  </Accordion>
  <Accordion title="隐私考虑">
    - 待办事项列表本地存储在 VSCode 工作区
    - 不向外部服务传输待办事项内容
    - 使用遥测（可在设置中禁用）
  </Accordion>
</AccordionGroup>

焦点链将 Cline 变成您的个人项目经理，保持您的正轨和任务组织。在您的下一个项目中试试它！
