# Cline 中文扩展架构

本目录包含Cline中文VSCode扩展的架构文档。

## 扩展架构图

文件 [拓展架构.mmd](./拓展架构.mmd) 包含一个Mermaid图表，展示了Cline中文扩展的高层架构。此图表解释了：

1. **核心扩展**
   - 扩展入口点和主要类
   - 使用VSCode全局状态和键存储的状态管理
   - Cline类的核心业务逻辑

2. **Webview用户界面**
   - 基于React的用户界面
   - 使用ExtensionStateContext的状态管理
   - 组件层次结构

3. **存储**
   - 任务特定的历史和状态存储
   - 基于Git的文件更改检查点

4. **数据流**
   - 核心扩展组件之间的数据流
   - Webview UI的数据流
   - 核心与Webview之间的双向通信

## 查看图表

要查看图表：
1. 在VSCode中安装Mermaid图表查看器扩展
2. 打开extension-architecture.mmd
3. 使用扩展的预览功能渲染图表

你也可以在GitHub上查看图表，GitHub具有内置的Mermaid渲染支持。

## 颜色方案

图表使用高对比度颜色方案以提高可读性：
- 粉色 (#ff0066)：全局状态和键存储组件
- 蓝色 (#0066ff)：扩展状态上下文
- 绿色 (#00cc66)：Cline提供程序
- 所有组件均使用白色文字以提高可读性
