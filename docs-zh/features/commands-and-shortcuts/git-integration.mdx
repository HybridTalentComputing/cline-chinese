---
title: "生成提交消息"
sidebarTitle: "生成提交消息"
---

Cline 的 Git 集成直接将 AI 帮助带给你的版本控制工作流。无需离开编辑器即可生成提交消息。

## 生成提交消息

最有用的 Git 集成之一是能够自动生成有意义的提交消息：

<Frame>
	<img
		src="https://storage.googleapis.com/cline_public_images/docs/assets/generate-commit-message-with-cline.png"
		alt="Generate Commit Message with Cline"
	/>
</Frame>

1. 进行你的更改并在 Git 中暂存它们
2. 单击源代码控制视图中的机器人图标或运行"使用 Cline 生成提交消息"命令
3. Cline 分析你的更改并生成描述性提交消息
4. 消息自动插入到提交消息输入框中

生成的提交消息：

-   以简明摘要开头（50-72 个字符）
-   使用祈使语气（例如，"添加功能"而不是"已添加功能"）
-   描述更改的内容和原因
-   遵循 Git 最佳实践

此功能节省时间并确保你的提交历史记录是一致且信息丰富的。

<Tip>
	有关在聊天消息中使用 `@git-changes` 和 `@[commit-hash]` 指令的信息，请参阅 [Git
	指令](/features/at-mentions/git-mentions) 文档。
</Tip>

## 它如何工作

当你使用 Cline 的提交消息生成功能时，幕后发生的事情如下：

1. Cline 使用 `getWorkingState()` 检索当前 Git 差异
2. 它将此差异格式化为 AI 的专用提示
3. AI 分析更改并生成适当的提交消息
4. 消息被提取并插入到 Git 提交消息输入框中

此过程使用你当前的 Cline API 配置，因此生成的消息质量匹配你选择的 AI 模型。

## 有效使用的技巧

-   **为复杂更改生成提交消息**：AI 擅长将多个相关更改总结为连贯的消息。

-   **审查和编辑生成的消息**：虽然 AI 生成高质量的消息，但审查和调整它们（如果需要）始终是良好实践。

-   **一起暂存相关更改**：为了获得最佳结果，一起暂存相关更改，以便 AI 可以生成连贯的消息。

-   **用于一致的提交历史**：使用生成提交消息功能有助于在整个提交历史中保持一致的样式。

## 底层工作原理

提交消息生成利用 VSCode 的 Git 扩展 API 来访问仓库信息：

1. 当你触发命令时：
    - Cline 获取当前差异
    - 它将其发送给 AI，并带有提交消息格式的特定说明
    - 它解析 AI 的响应
    - 它访问 Git 扩展 API 来设置提交消息

这种与 Git 的集成使得在不中断工作流的情况下生成高质量提交消息变得容易。

下次你在编写好的提交消息时遇到困难，尝试使用 Cline 的提交消息生成。你将通过在需要的地方获得 AI 帮助来节省时间并改进你的版本控制工作流。
