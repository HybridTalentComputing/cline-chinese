---
title: "理解任务"
description: "了解 Cline 中的任务是什么，它们如何工作，以及如何创建有效的提示词以获得更好的结果。"
---

## 什么是任务？

大多数用户通过**任务**与 Cline 交互 — 这是驱动每次编码会话的基本工作单元。无论你是在构建新功能、修复错误、重构代码还是探索代码库，与 Cline 的每次交互都在任务上下文中进行。任务代表你和 AI agent 之间的完整对话和工作会话，通过**提示词**创建 — 你提供给 Cline 的指令，以告诉它你想要完成什么。任务作为自包含的工作会话，捕获你与 Cline 的整个对话，包括所有代码更改、命令执行和沿途做出的决策。

这种方法确保你的工作是有组织、可追溯和可恢复的。每个任务维护其自己的独立上下文，允许你同时处理多个项目而不会混淆。Cline 任务系统的美妙之处在于其灵活性和持久性，提供了一个协作编码会话，你通过提示词提供方向，Cline 以精确性执行你的愿景。

### 关键特征

Cline 中的每个任务：

- **具有唯一标识符**：每个任务都有自己的 ID 和专用存储目录
- **包含完整对话**：所有消息、工具使用和结果都被保留
- **跟踪使用的资源**：Token 使用情况、API 成本和执行时间都被监控
- **可以被中断和恢复**：任务在 VSCode 会话之间保持其状态
- **创建检查点**：文件更改通过基于 Git 的快照进行跟踪
- **启用文档记录**：任务可以导出为 markdown 以供团队文档记录
- **提供成本管理**：资源跟踪有助于监控 API 使用和成本

这些功能使 Cline 不仅是一个编码工具，而且是一个全面开发的 agent，了解你工作的完整生命周期。

## 使用提示词创建任务

任务从提示词开始 — 你给 Cline 的指令。结果的质量在很大程度上取决于你如何描述你想要的内容。

### 提示词组件

结构良好的提示词通常包括：

- **目标**：你想要完成什么
- **上下文**：背景信息和约束
- **要求**：所需的具体功能或功能
- **偏好**：技术选择、编码风格等
- **示例**：指导实现的参考

<Note>
**想要掌握提示词的艺术吗？**

深入了解 [Cline Learn](https://clinelearn.com) 中的**模块 1："提示词"**，成为创建有效提示词的专家。该模块涵盖：
- 结构化提示词技术
- 上下文优化策略
- 常见提示词模式
- 高级提示词工程
- 真实示例和练习

良好的提示词技能导致更快的任务完成、更准确的结果、更少的迭代需求和更好的代码质量。
</Note>

## 任务执行模式

Cline 在两种不同的模式下运行，帮助你构建工作流：

- **计划模式**：用于信息收集、讨论方法和创建策略而不进行更改
- **执行模式**：用于实际实现，Cline 在其中执行文件修改、运行命令和使用工具

→ **[了解计划和执行模式的更多信息](/features/plan-and-act)**，了解何时以及如何有效使用每种模式。

## 任务资源

每个任务消耗被跟踪的资源：

- **Token**：处理的文本量（输入和输出）
- **API 成本**：基于模型和 token 使用的货币成本
- **时间**：从开始到完成的持续时间
- **检查点**：创建的文件状态快照数量

## 常见任务模式

### 代码生成
```
创建一个使用 regex 验证电子邮件地址的 TypeScript 函数。
包括使用 Jest 的单元测试，并处理国际域名等边缘情况。
```

### 错误修复
```
@terminal 单击提交按钮时应用程序崩溃。
修复错误并确保适当的错误处理已就位。
```

### 重构
```
重构 @auth.ts 中的身份验证逻辑以使用 async/await 
而不是回调。保持所有现有功能。
```

### 功能实现
```
向设置页面添加暗模式切换。使用现有的主题 
上下文并将偏好保存到 localStorage。
```

## 任务恢复

Cline 的强大功能之一是能够恢复中断的任务：

### 任务被中断时

- 你停止一个长时间运行的任务
- 发生需要干预的错误
- 你需要切换到另一个任务

### 恢复任务

1. 从历史记录中打开任务
2. Cline 加载完整对话
3. 对照检查点检查文件状态
4. 任务继续并了解中断
5. 如有需要，你可以提供额外的上下文

## 理解任务上下文

任务在其整个生命周期中维护上下文：

- **对话历史**：所有以前的消息和响应
- **文件更改**：跟踪的修改及其顺序
- **工具结果**：命令和操作的输出
- **检查点状态**：关键点的文件状态快照

此上下文允许 Cline：
- 了解已完成的工作
- 保持方法的一致性
- 智能地恢复工作
- 从以前的尝试中学习

→ **[了解上下文管理的更多信息](/getting-started/understanding-context-management)**，了解 Cline 如何管理和优化跨任务的上下文。

理解任务如何工作是有效使用 Cline 的基础。通过精心制作的提示词和对任务生命周期的理解，你可以充分利用 Cline 的潜力来加速你的开发工作流。
